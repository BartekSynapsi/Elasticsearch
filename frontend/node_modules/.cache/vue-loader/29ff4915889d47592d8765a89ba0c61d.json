{"remainingRequest":"/home/bartek/Pulpit/es_proj/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bartek/Pulpit/es_proj/frontend/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/bartek/Pulpit/es_proj/frontend/src/App.vue","mtime":1619417677826},{"path":"/home/bartek/Pulpit/es_proj/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bartek/Pulpit/es_proj/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/bartek/Pulpit/es_proj/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/bartek/Pulpit/es_proj/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bartek/Pulpit/es_proj/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojYXBwIHsKICAgIGZvbnQtZmFtaWx5OiBBdmVuaXIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogIzJjM2U1MDsKICAgIG1hcmdpbi10b3A6IDYwcHg7Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\">\n        <h1>Stackoverflow questions</h1>\n        <div class=\"d-flex justify-content-around\">\n            <b-form inline class=\"my-4\">\n                <Form @query=\"query\" />\n                <Sort @sort=\"sort\" />\n                <Order @order_change=\"order_change\" :order=\"order\" />\n                <Options @option=\"option\" />\n                <Button @search=\"search\" />\n            </b-form>\n        </div>\n        <div v-if=\"resp !== null\">\n            <H3>Total {{ resp.hits.total.value }}</H3>\n            <Answers :query_set=\"query_set\" :highlight=\"highlight\" :sort_=\"sort_\" />\n        </div>\n        <div v-if=\"resp\" v-observe-visibility=\"handleScrolledToBotoom\"></div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\naxios.defaults.xsrfCookieName = 'csrftoken'\n\n\nimport Form from './components/Form.vue';\nimport Options from './components/Options.vue';\nimport Button from './components/Button.vue';\nimport Sort from './components/Sort.vue';\nimport Order from './components/Order.vue';\nimport Answers from './components/Answers.vue';\n\n\n\nexport default {\n    name: 'App',\n    components: {\n        Form,\n        Options,\n        Button,\n        Sort,\n        Order,\n        Answers\n    },\n    data() {\n        return {\n            resp: null,\n            sort_: 'elasticsearch',\n            query_: null,\n            order: 'desc',\n            highlight: false,\n            from: 0,\n            all: false,\n        }\n    },\n    computed: {\n        query_set: function() {\n            if (this.order == 'desc') {\n                return this.resp.hits.hits;\n            }\n            return this.resp.hits.hits.slice().reverse();\n        }\n    },\n    methods: {\n        option(e) {\n            if (e.includes('highlight')) {\n                this.highlight = true;\n            } else {\n                this.highlight = false;\n            }\n            if (e.includes('all')) {\n                this.all = true;\n            } else {\n                this.all = false;\n            }\n        },\n        query(e) {\n            this.query_ = e;\n        },\n        sort(e) {\n            this.sort_ = e;\n            this.search();\n        },\n        search() {\n            this.from = 0;\n            axios\n                .post('//localhost:8000/api/query/', { 'query': this.query_, 'sort_by': this.sort_, 'fields': this.all, 'from': this.from })\n                .then(response => (this.resp = response.data))\n        },\n        order_change() {\n            if (this.order === 'asc') {\n                this.order = 'desc';\n            } else {\n                this.order = 'asc';\n            }\n        },\n        handleScrolledToBotoom(isVisible) {\n            if (!isVisible || this.order == 'asc') { return }\n\n            this.from = this.from + 10\n            axios\n                .post('//localhost:8000/api/query/', { 'query': this.query_, 'sort_by': this.sort_, 'fields': 'all', 'from': this.from })\n                .then(response => (this.resp.hits.hits.push(...response.data.hits.hits)))\n        }\n    }\n}\n</script>\n\n<style>\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n}\n</style>\n"]}]}