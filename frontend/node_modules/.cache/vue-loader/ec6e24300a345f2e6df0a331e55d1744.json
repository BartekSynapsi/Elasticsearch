{"remainingRequest":"/usr/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/frontend/src/App.vue","mtime":1619417677826},{"path":"/usr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmF4aW9zLmRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lID0gJ1gtQ1NSRlRva2VuJwpheGlvcy5kZWZhdWx0cy54c3JmQ29va2llTmFtZSA9ICdjc3JmdG9rZW4nCgoKaW1wb3J0IEZvcm0gZnJvbSAnLi9jb21wb25lbnRzL0Zvcm0udnVlJzsKaW1wb3J0IE9wdGlvbnMgZnJvbSAnLi9jb21wb25lbnRzL09wdGlvbnMudnVlJzsKaW1wb3J0IEJ1dHRvbiBmcm9tICcuL2NvbXBvbmVudHMvQnV0dG9uLnZ1ZSc7CmltcG9ydCBTb3J0IGZyb20gJy4vY29tcG9uZW50cy9Tb3J0LnZ1ZSc7CmltcG9ydCBPcmRlciBmcm9tICcuL2NvbXBvbmVudHMvT3JkZXIudnVlJzsKaW1wb3J0IEFuc3dlcnMgZnJvbSAnLi9jb21wb25lbnRzL0Fuc3dlcnMudnVlJzsKCgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0FwcCcsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRm9ybSwKICAgICAgICBPcHRpb25zLAogICAgICAgIEJ1dHRvbiwKICAgICAgICBTb3J0LAogICAgICAgIE9yZGVyLAogICAgICAgIEFuc3dlcnMKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJlc3A6IG51bGwsCiAgICAgICAgICAgIHNvcnRfOiAnZWxhc3RpY3NlYXJjaCcsCiAgICAgICAgICAgIHF1ZXJ5XzogbnVsbCwKICAgICAgICAgICAgb3JkZXI6ICdkZXNjJywKICAgICAgICAgICAgaGlnaGxpZ2h0OiBmYWxzZSwKICAgICAgICAgICAgZnJvbTogMCwKICAgICAgICAgICAgYWxsOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBxdWVyeV9zZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy5vcmRlciA9PSAnZGVzYycpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3AuaGl0cy5oaXRzOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3AuaGl0cy5oaXRzLnNsaWNlKCkucmV2ZXJzZSgpOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb3B0aW9uKGUpIHsKICAgICAgICAgICAgaWYgKGUuaW5jbHVkZXMoJ2hpZ2hsaWdodCcpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlLmluY2x1ZGVzKCdhbGwnKSkgewogICAgICAgICAgICAgICAgdGhpcy5hbGwgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5hbGwgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcXVlcnkoZSkgewogICAgICAgICAgICB0aGlzLnF1ZXJ5XyA9IGU7CiAgICAgICAgfSwKICAgICAgICBzb3J0KGUpIHsKICAgICAgICAgICAgdGhpcy5zb3J0XyA9IGU7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSwKICAgICAgICBzZWFyY2goKSB7CiAgICAgICAgICAgIHRoaXMuZnJvbSA9IDA7CiAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgnLy9sb2NhbGhvc3Q6ODAwMC9hcGkvcXVlcnkvJywgeyAncXVlcnknOiB0aGlzLnF1ZXJ5XywgJ3NvcnRfYnknOiB0aGlzLnNvcnRfLCAnZmllbGRzJzogdGhpcy5hbGwsICdmcm9tJzogdGhpcy5mcm9tIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiAodGhpcy5yZXNwID0gcmVzcG9uc2UuZGF0YSkpCiAgICAgICAgfSwKICAgICAgICBvcmRlcl9jaGFuZ2UoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLm9yZGVyID09PSAnYXNjJykgewogICAgICAgICAgICAgICAgdGhpcy5vcmRlciA9ICdkZXNjJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMub3JkZXIgPSAnYXNjJzsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlU2Nyb2xsZWRUb0JvdG9vbShpc1Zpc2libGUpIHsKICAgICAgICAgICAgaWYgKCFpc1Zpc2libGUgfHwgdGhpcy5vcmRlciA9PSAnYXNjJykgeyByZXR1cm4gfQoKICAgICAgICAgICAgdGhpcy5mcm9tID0gdGhpcy5mcm9tICsgMTAKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5wb3N0KCcvL2xvY2FsaG9zdDo4MDAwL2FwaS9xdWVyeS8nLCB7ICdxdWVyeSc6IHRoaXMucXVlcnlfLCAnc29ydF9ieSc6IHRoaXMuc29ydF8sICdmaWVsZHMnOiAnYWxsJywgJ2Zyb20nOiB0aGlzLmZyb20gfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ICh0aGlzLnJlc3AuaGl0cy5oaXRzLnB1c2goLi4ucmVzcG9uc2UuZGF0YS5oaXRzLmhpdHMpKSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\">\n        <h1>Stackoverflow questions</h1>\n        <div class=\"d-flex justify-content-around\">\n            <b-form inline class=\"my-4\">\n                <Form @query=\"query\" />\n                <Sort @sort=\"sort\" />\n                <Order @order_change=\"order_change\" :order=\"order\" />\n                <Options @option=\"option\" />\n                <Button @search=\"search\" />\n            </b-form>\n        </div>\n        <div v-if=\"resp !== null\">\n            <H3>Total {{ resp.hits.total.value }}</H3>\n            <Answers :query_set=\"query_set\" :highlight=\"highlight\" :sort_=\"sort_\" />\n        </div>\n        <div v-if=\"resp\" v-observe-visibility=\"handleScrolledToBotoom\"></div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\naxios.defaults.xsrfCookieName = 'csrftoken'\n\n\nimport Form from './components/Form.vue';\nimport Options from './components/Options.vue';\nimport Button from './components/Button.vue';\nimport Sort from './components/Sort.vue';\nimport Order from './components/Order.vue';\nimport Answers from './components/Answers.vue';\n\n\n\nexport default {\n    name: 'App',\n    components: {\n        Form,\n        Options,\n        Button,\n        Sort,\n        Order,\n        Answers\n    },\n    data() {\n        return {\n            resp: null,\n            sort_: 'elasticsearch',\n            query_: null,\n            order: 'desc',\n            highlight: false,\n            from: 0,\n            all: false,\n        }\n    },\n    computed: {\n        query_set: function() {\n            if (this.order == 'desc') {\n                return this.resp.hits.hits;\n            }\n            return this.resp.hits.hits.slice().reverse();\n        }\n    },\n    methods: {\n        option(e) {\n            if (e.includes('highlight')) {\n                this.highlight = true;\n            } else {\n                this.highlight = false;\n            }\n            if (e.includes('all')) {\n                this.all = true;\n            } else {\n                this.all = false;\n            }\n        },\n        query(e) {\n            this.query_ = e;\n        },\n        sort(e) {\n            this.sort_ = e;\n            this.search();\n        },\n        search() {\n            this.from = 0;\n            axios\n                .post('//localhost:8000/api/query/', { 'query': this.query_, 'sort_by': this.sort_, 'fields': this.all, 'from': this.from })\n                .then(response => (this.resp = response.data))\n        },\n        order_change() {\n            if (this.order === 'asc') {\n                this.order = 'desc';\n            } else {\n                this.order = 'asc';\n            }\n        },\n        handleScrolledToBotoom(isVisible) {\n            if (!isVisible || this.order == 'asc') { return }\n\n            this.from = this.from + 10\n            axios\n                .post('//localhost:8000/api/query/', { 'query': this.query_, 'sort_by': this.sort_, 'fields': 'all', 'from': this.from })\n                .then(response => (this.resp.hits.hits.push(...response.data.hits.hits)))\n        }\n    }\n}\n</script>\n\n<style>\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n}\n</style>\n"]}]}