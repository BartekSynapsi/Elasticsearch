(function(e){function t(t){for(var s,i,a=t[0],l=t[1],c=t[2],h=0,d=[];h<a.length;h++)i=a[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,a=1;a<r.length;a++){var l=r[a];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},n={app:0},o=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("Stackoverflow questions")]),r("div",{staticClass:"d-flex justify-content-around"},[r("b-form",{staticClass:"my-4",attrs:{inline:""}},[r("Form",{on:{query:e.query}}),r("Sort",{on:{sort:e.sort}}),r("Order",{attrs:{order:e.order},on:{order_change:e.order_change}}),r("Options",{on:{option:e.option}}),r("Button",{on:{search:e.search}})],1)],1),null!==e.resp?r("div",[r("H3",[e._v("Total "+e._s(e.resp.hits.total.value))]),r("Answers",{attrs:{query_set:e.query_set,highlight:e.highlight,sort_:e.sort_}})],1):e._e(),e.resp?r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleScrolledToBotoom,expression:"handleScrolledToBotoom"}]}):e._e()])},o=[],i=r("2909"),a=(r("fb6a"),r("caad"),r("2532"),r("ac1f"),r("841c"),r("bc3a")),l=r.n(a),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form-input",{staticClass:"p-3",attrs:{placeholder:"Enter your query"},on:{input:function(t){return e.$emit("query",t)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)},u=[],h={data:function(){return{query:""}}},d=h,f=r("2877"),p=Object(f["a"])(d,c,u,!1,null,null,null),m=p.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form-checkbox-group",{staticClass:"mx-3",attrs:{options:e.options,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:function(t){return e.$emit("option",t)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},_=[],v={data:function(){return{selected:[],options:[{item:"highlight",name:"Highlight"},{item:"all",name:"Title & Body"}]}}},y=v,g=Object(f["a"])(y,b,_,!1,null,null,null),x=g.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-button",{attrs:{pill:"",variant:"outline-success"},on:{click:e.search}},[e._v("Search")])],1)},q=[],j={methods:{search:function(){this.$emit("search")}}},k=j,w=Object(f["a"])(k,O,q,!1,null,null,null),S=w.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-3"},[r("b-form-group",{attrs:{label:"Sort by"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.ariaDescribedby;return[r("b-form-radio",{attrs:{"aria-describedby":s,name:"es-score",value:"elasticsearch"},on:{change:function(t){return e.$emit("sort",t)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("Elasticsearch score")]),r("b-form-radio",{attrs:{"aria-describedby":s,name:"stac-score",value:"stack"},on:{change:function(t){return e.$emit("sort",t)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("Stackoverflow score")])]}}])}),r("small",[e._v("refetch")])],1)},$=[],E={data:function(){return{selected:"elasticsearch"}}},T=E,P=Object(f["a"])(T,C,$,!1,null,null,null),B=P.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-button",{staticClass:"mb-2",attrs:{size:"lg",variant:"primary-outline"},on:{click:e.order_change}},[e._v(" Order "),"asc"==e.order?r("b-icon",{attrs:{icon:"arrow-up"}}):r("b-icon",{attrs:{icon:"arrow-down"}})],1)},H=[],A={data:function(){return{selected:"elasticsearch"}},props:["order"],methods:{order_change:function(){this.$emit("order_change")}}},F=A,N=Object(f["a"])(F,M,H,!1,null,null,null),J=N.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"list-unstyled w-50 mx-auto "},e._l(e.query_set,(function(t){return r("b-media",{key:t._id,staticClass:"mt-3",attrs:{tag:"li"},scopedSlots:e._u([{key:"aside",fn:function(){return["elasticsearch"==e.sort_?r("b",[e._v("ES score "),r("br"),e._v(e._s(t._score))]):r("b",[e._v("Stack score "),r("br"),e._v(e._s(t._source.score))])]},proxy:!0}],null,!0)},[e.highlight&&t.highlight.title?r("h5",{staticClass:"mt-0 mb-1 text-justify"},[r("span",{domProps:{innerHTML:e._s(t.highlight.title[0])}})]):r("h5",{staticClass:"mt-0 mb-1 text-justify"},[e._v(e._s(t._source.title))]),e.highlight&&t.highlight.body?r("p",{staticClass:"mb-0 text-justify"},[r("span",{domProps:{innerHTML:e._s(t.highlight.body[0])}})]):r("p",{staticClass:"mb-0 text-justify"},[e._v(" "+e._s(t._source.body)+" ")])])})),1)},z=[],D={props:["query_set","highlight","sort_"]},R=D,X=Object(f["a"])(R,L,z,!1,null,null,null),G=X.exports;l.a.defaults.xsrfHeaderName="X-CSRFToken",l.a.defaults.xsrfCookieName="csrftoken";var I={name:"App",components:{Form:m,Options:x,Button:S,Sort:B,Order:J,Answers:G},data:function(){return{resp:null,sort_:"elasticsearch",query_:null,order:"desc",highlight:!1,from:0,all:!1}},computed:{query_set:function(){return"desc"==this.order?this.resp.hits.hits:this.resp.hits.hits.slice().reverse()}},methods:{option:function(e){e.includes("highlight")?this.highlight=!0:this.highlight=!1,e.includes("all")?this.all=!0:this.all=!1},query:function(e){this.query_=e},sort:function(e){this.sort_=e,this.search()},search:function(){var e=this;this.from=0,l.a.post("//localhost:8000/api/query/",{query:this.query_,sort_by:this.sort_,fields:this.all,from:this.from}).then((function(t){return e.resp=t.data}))},order_change:function(){"asc"===this.order?this.order="desc":this.order="asc"},handleScrolledToBotoom:function(e){var t=this;e&&"asc"!=this.order&&(this.from=this.from+10,l.a.post("//localhost:8000/api/query/",{query:this.query_,sort_by:this.sort_,fields:"all",from:this.from}).then((function(e){var r;return(r=t.resp.hits.hits).push.apply(r,Object(i["a"])(e.data.hits.hits))})))}}},K=I,Q=(r("034f"),Object(f["a"])(K,n,o,!1,null,null,null)),U=Q.exports,V=r("5f5b"),W=r("b1e0"),Y=r("85fe");r("f9e3"),r("2dd8");s["default"].use(Y["a"]),s["default"].use(V["a"]),s["default"].use(W["a"]),s["default"].config.productionTip=!1,new s["default"]({render:function(e){return e(U)}}).$mount("#app")},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.9ad561d0.js.map